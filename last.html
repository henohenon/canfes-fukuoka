<body>
  <script>
    (function() {
      var origin = 'https://henohenon.github.io/canfes-sekai';
      window.addEventListener('message', function(event) {
        // 送信元が指定のオリジンと一致していれば処理を行う
        if(event.origin === origin) {
          var message = event.data;

          // メッセージが'get'ならlocalstorageの値を返す
          if(message === 'get') {
            var storageData = localStorage.getItem('last');
            event.source.postMessage(storageData, event.origin);
          }
          // getでなければメッセージを分割してlocalstorageに保存する
          else {
            localStorage.setItem(key, value);
          }
        }
      });
    })();
  </script>
</body>